$.component("coral.formelement",{version:"4.0.2",options:{},getValidateValue:function(){return this.getValue()},clearError:function(){this.component().removeClass("hasErrorIcon coral-validate-error");this.component().find(".coral-errorIcon").remove();this.element.prop("isError",false)},addField:function(){this.element.addClass("ctrl-form-element coral-validation-"+this.componentName);var g=this;var k=this.element,c=k.closest(".coral-form-default"),f=c.length>0?$.extend({},$.validate.options,c.form("option")):$.extend({},$.validate.options);if(k.closest(".coral-form-default").length===0&&k.closest("form").length>0){return}var a=this.options,i=a.required,b=a.name,e=a.showStar,j=a.starBefore,d=a.validTypeOptions,h=a.triggers||f.triggers[this.componentName]||$.validate.options.triggers[this.componentName];var l=$.map(h,function(m){if(g){return g.componentEventPrefix+m+".field"}else{return g.componentName+m+".field"}}).join(" ");k.off(".field").on(l,function(m,n){$.validate.validItem($(this),m,true)});k.off(".focuselement").on(g.componentName+"onkeydown.focuselement",function(q,r){var u=$.coral.keyCode,o=0;var s=c.find(".coral-button"),n;$.each(s,function(v){if(s[v].type=="submit"){n=s[v]}});var p=c.find(".tabbable"),o=0;var m=document.activeElement,t;$.each(p,function(v){t=p[v]===m;o=v;if(t){return false}});if(t&&p[o].tagName!="TEXTAREA"){if(q.shiftKey){switch(q.keyCode){case u.ENTER:q.preventDefault();if(o>0){p[o-1].focus()}else{if(o==0){if(n){n.focus()}else{p[p.length-1].focus()}}}break}}else{switch(q.keyCode){case u.ENTER:q.preventDefault();if(o<p.length-1){p[o+1].focus()}else{if(o==p.length-1){if(n){n.focus()}else{p[0].focus()}}}break}}}});if(typeof i==="boolean"&&i){$.validate._changeRequiredMark(this.element,i)}},_setOption:function(a,d){var c=this,b=this.options;this._super(a,d);switch(a){case"required":$.validate._changeRequiredMark(c.element,d);c.clearError();break;case"isLabel":case"readonly":case"readonlyInput":c.clearError();break;case"maxlength":$.validate.showTooltip(c.element,b.validTypeOptions);
break}}});